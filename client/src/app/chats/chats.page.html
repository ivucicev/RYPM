<ion-header>
    <ion-toolbar>
        <ion-title>{{ 'chat' | translate }}</ion-title>
        <ion-buttons slot="end">
            <ion-button (click)="openSearchUser()">
                <ion-icon name="search-outline"></ion-icon>
            </ion-button>
            <ion-button (click)="openLinkScreen()">
                <ion-icon name="link-outline"></ion-icon>
            </ion-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>

<ion-content class="bg_color" fullscreen>
    <ion-list lines="none">
        @for(chat of chatsList; track chat.id) {
        <ion-item lines="none" class="animate__animated animate__fadeInUp" (click)="conversation(chat)">
            <div class="item-inner d-flex">
                <div class="img_box center_img">
                    <img [src]="chat.avatar || 'assets/images/avatar.svg'" class="crop_img">
                </div>
                <div class="text_box">
                    <h2 class="d-flex">
                        <span class="item-title">{{ chat.name }}</span>
                        <small class="end">{{ chat.time }}</small>
                    </h2>
                    <h3 [class.system-message]="chat.messageType === 'system'">
                        @if (chat.messageType === 'system') {
                        <ion-icon name="alert-circle"></ion-icon>
                        }
                        {{ chat.lastMessage || '-'}}
                    </h3>
                </div>
            </div>
        </ion-item>
        }
    </ion-list>
</ion-content>

<app-continue-footer></app-continue-footer>